<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1246px" preserveAspectRatio="none" style="width:1204px;height:1246px;" version="1.1" viewBox="0 0 1204 1246" width="1204px" zoomAndPan="magnify"><defs><filter height="300%" id="flsdu3l0vodk3" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="134" x="526" y="17.4023">클래스 다이어그램</text><!--MD5=[59b530d44ae785dc18db921986a9c15c]
class Document--><rect fill="#FEFECE" filter="url(#flsdu3l0vodk3)" height="73.9102" id="Document" style="stroke: #A80036; stroke-width: 1.5;" width="90" x="755.5" y="60.6992"/><ellipse cx="770.5" cy="76.6992" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M770.6133,72.2974 L769.4595,77.3691 L771.7754,77.3691 Z M769.1191,70.0562 L772.1157,70.0562 L775.4609,82.4492 L773.0122,82.4492 L772.2485,79.3862 L768.9697,79.3862 L768.2227,82.4492 L765.7739,82.4492 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="58" x="784.5" y="81.2344">Document</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="756.5" x2="844.5" y1="92.6992" y2="92.6992"/><ellipse cx="766.5" cy="103.6992" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="51" x="775.5" y="107.334">hk: string</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="763.5" y="113.6543"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="49" x="775.5" y="120.2891">rk: string</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="756.5" x2="844.5" y1="126.6094" y2="126.6094"/><!--MD5=[e3503206bcea92ce91e3f6aa32ff8511]
class YiguanaDocument--><rect fill="#FEFECE" filter="url(#flsdu3l0vodk3)" height="255.2813" id="YiguanaDocument" style="stroke: #A80036; stroke-width: 1.5;" width="135" x="733" y="228.1992"/><ellipse cx="748" cy="244.1992" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M750.4731,250.3423 Q749.8921,250.6411 749.2529,250.7905 Q748.6138,250.9399 747.9082,250.9399 Q745.4014,250.9399 744.0815,249.2881 Q742.7617,247.6362 742.7617,244.5151 Q742.7617,241.3857 744.0815,239.7339 Q745.4014,238.082 747.9082,238.082 Q748.6138,238.082 749.2612,238.2314 Q749.9087,238.3809 750.4731,238.6797 L750.4731,241.4023 Q749.8423,240.8213 749.2488,240.5515 Q748.6553,240.2817 748.0244,240.2817 Q746.6797,240.2817 745.9949,241.3484 Q745.3101,242.415 745.3101,244.5151 Q745.3101,246.6069 745.9949,247.6736 Q746.6797,248.7402 748.0244,248.7402 Q748.6553,248.7402 749.2488,248.4705 Q749.8423,248.2007 750.4731,247.6196 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="103" x="762" y="248.7344">YiguanaDocument</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="734" x2="867" y1="260.1992" y2="260.1992"/><ellipse cx="744" cy="271.1992" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="51" x="753" y="274.834">hk: string</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="741" y="281.1543"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="49" x="753" y="287.7891">rk: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="77" x="739" y="317.6992">postId?: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="72" x="739" y="330.6543">userId: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="85" x="739" y="343.6094">category: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="76" x="739" y="356.5645">byUser: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="94" x="739" y="369.5195">comments: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="68" x="739" y="382.4746">posts: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="58" x="739" y="395.4297">agg: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="78" x="739" y="408.3848">reports: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="98" x="739" y="421.3398">reportsEnd: string</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="734" x2="774.5" y1="300.5869" y2="300.5869"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="52" x="774.5" y="304.2441">attributes</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="826.5" x2="867" y1="300.5869" y2="300.5869"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="739" y="451.25">createdAt: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="99" x="739" y="464.2051">updatedAt?: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="113" x="739" y="477.1602">status?: EEntityStatus</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="734" x2="777" y1="434.1377" y2="434.1377"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="47" x="777" y="437.7949">common</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="824" x2="867" y1="434.1377" y2="434.1377"/><!--MD5=[042fa140da40c49659127f611bcff931]
class Comment--><rect fill="#FEFECE" filter="url(#flsdu3l0vodk3)" height="165.3066" id="Comment" style="stroke: #A80036; stroke-width: 1.5;" width="239" x="447" y="779.1992"/><ellipse cx="534.75" cy="795.1992" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M537.2231,801.3423 Q536.6421,801.6411 536.0029,801.7905 Q535.3638,801.9399 534.6582,801.9399 Q532.1514,801.9399 530.8315,800.2881 Q529.5117,798.6362 529.5117,795.5151 Q529.5117,792.3857 530.8315,790.7339 Q532.1514,789.082 534.6582,789.082 Q535.3638,789.082 536.0112,789.2314 Q536.6587,789.3809 537.2231,789.6797 L537.2231,792.4023 Q536.5923,791.8213 535.9988,791.5515 Q535.4053,791.2817 534.7744,791.2817 Q533.4297,791.2817 532.7449,792.3484 Q532.0601,793.415 532.0601,795.5151 Q532.0601,797.6069 532.7449,798.6736 Q533.4297,799.7402 534.7744,799.7402 Q535.4053,799.7402 535.9988,799.4705 Q536.5923,799.2007 537.2231,798.6196 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="55" x="555.25" y="799.7344">Comment</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="448" x2="685" y1="811.1992" y2="811.1992"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="79" x="453" y="825.834">content: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="72" x="453" y="838.7891">postId: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="55" x="453" y="851.7441">user: User</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="72" x="453" y="864.6992">likes: number</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="142" x="453" y="899.3203">comments: string // gsi.rk</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="154" x="453" y="912.2754">userId?: string // gsi.user.hk</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="153" x="453" y="925.2305">byUser?: string //gsi.user.rk</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="227" x="453" y="938.1855">commentId?: string // reply 에서만 정의된다.</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="448" x2="555" y1="879.8525" y2="879.8525"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="448" x2="555" y1="881.8525" y2="881.8525"/><text fill="#000000" font-family="sans-serif" font-size="15" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="555" y="885.0215">gsi</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="578" x2="685" y1="879.8525" y2="879.8525"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="578" x2="685" y1="881.8525" y2="881.8525"/><!--MD5=[cb90de322b018cbf647714665a308163]
class Reply--><rect fill="#FEFECE" filter="url(#flsdu3l0vodk3)" height="73.9102" id="Reply" style="stroke: #A80036; stroke-width: 1.5;" width="139" x="342" y="1134.6992"/><ellipse cx="391.25" cy="1150.6992" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M393.7231,1156.8423 Q393.1421,1157.1411 392.5029,1157.2905 Q391.8638,1157.4399 391.1582,1157.4399 Q388.6514,1157.4399 387.3315,1155.7881 Q386.0117,1154.1362 386.0117,1151.0151 Q386.0117,1147.8857 387.3315,1146.2339 Q388.6514,1144.582 391.1582,1144.582 Q391.8638,1144.582 392.5112,1144.7314 Q393.1587,1144.8809 393.7231,1145.1797 L393.7231,1147.9023 Q393.0923,1147.3213 392.4988,1147.0515 Q391.9053,1146.7817 391.2744,1146.7817 Q389.9297,1146.7817 389.2449,1147.8484 Q388.5601,1148.915 388.5601,1151.0151 Q388.5601,1153.1069 389.2449,1154.1736 Q389.9297,1155.2402 391.2744,1155.2402 Q391.9053,1155.2402 392.4988,1154.9705 Q393.0923,1154.7007 393.7231,1154.1196 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="32" x="411.75" y="1155.2344">Reply</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="343" x2="480" y1="1166.6992" y2="1166.6992"/><polygon fill="none" points="353,1173.6992,349,1179.6992,357,1179.6992" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="98" x="362" y="1181.334">commentId: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="113" x="362" y="1194.2891">refUserName?: string</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="343" x2="480" y1="1200.6094" y2="1200.6094"/><!--MD5=[378e3e2ca7e24a99f4479cd893fbde36]
class Like--><rect fill="#FEFECE" filter="url(#flsdu3l0vodk3)" height="99.8203" id="Like" style="stroke: #A80036; stroke-width: 1.5;" width="179" x="497" y="557.1992"/><ellipse cx="570.75" cy="573.1992" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M573.2231,579.3423 Q572.6421,579.6411 572.0029,579.7905 Q571.3638,579.9399 570.6582,579.9399 Q568.1514,579.9399 566.8315,578.2881 Q565.5117,576.6362 565.5117,573.5151 Q565.5117,570.3857 566.8315,568.7339 Q568.1514,567.082 570.6582,567.082 Q571.3638,567.082 572.0112,567.2314 Q572.6587,567.3809 573.2231,567.6797 L573.2231,570.4023 Q572.5923,569.8213 571.9988,569.5515 Q571.4053,569.2817 570.7744,569.2817 Q569.4297,569.2817 568.7449,570.3484 Q568.0601,571.415 568.0601,573.5151 Q568.0601,575.6069 568.7449,576.6736 Q569.4297,577.7402 570.7744,577.7402 Q571.4053,577.7402 571.9988,577.4705 Q572.5923,577.2007 573.2231,576.6196 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="23" x="591.25" y="577.7344">Like</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="498" x2="675" y1="589.1992" y2="589.1992"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="72" x="517" y="603.834">userId: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="76" x="517" y="616.7891">byUser: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="55" x="517" y="629.7441">user: User</text><polygon fill="none" points="508,635.0645,504,641.0645,512,641.0645" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="153" x="517" y="642.6992">data: Post | Comment | Reply</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="498" x2="675" y1="649.0195" y2="649.0195"/><!--MD5=[9bb0bdd047fba1a3c8d48282c35b4537]
class Post--><rect fill="#FEFECE" filter="url(#flsdu3l0vodk3)" height="229.3711" id="Post" style="stroke: #A80036; stroke-width: 1.5;" width="159" x="721" y="747.1992"/><ellipse cx="784.25" cy="763.1992" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M786.7231,769.3423 Q786.1421,769.6411 785.5029,769.7905 Q784.8638,769.9399 784.1582,769.9399 Q781.6514,769.9399 780.3315,768.2881 Q779.0117,766.6362 779.0117,763.5151 Q779.0117,760.3857 780.3315,758.7339 Q781.6514,757.082 784.1582,757.082 Q784.8638,757.082 785.5112,757.2314 Q786.1587,757.3809 786.7231,757.6797 L786.7231,760.4023 Q786.0923,759.8213 785.4988,759.5515 Q784.9053,759.2817 784.2744,759.2817 Q782.9297,759.2817 782.2449,760.3484 Q781.5601,761.415 781.5601,763.5151 Q781.5601,765.6069 782.2449,766.6736 Q782.9297,767.7402 784.2744,767.7402 Q784.9053,767.7402 785.4988,767.4705 Q786.0923,767.2007 786.7231,766.6196 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="24" x="804.75" y="767.7344">Post</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="722" x2="879" y1="779.1992" y2="779.1992"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="79" x="727" y="793.834">rk: EEntity.Post</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="722" x2="879" y1="800.1543" y2="800.1543"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="77" x="741" y="814.7891">views: number</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="72" x="741" y="827.7441">likes: number</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="92" x="741" y="840.6992">children: number</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="58" x="741" y="853.6543">title: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="741" y="866.6094">contentUrl: string</text><polygon fill="none" points="732,871.9297,728,877.9297,736,877.9297" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="55" x="741" y="879.5645">user: User</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="73" x="741" y="892.5195">cover?: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="99" x="741" y="905.4746">updatedAt?: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="84" x="741" y="918.4297">content?: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="127" x="741" y="931.3848">userId?: string // gsi.hk</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="129" x="741" y="944.3398">byUser?: string // gsi.rk</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="133" x="741" y="957.2949">category: string // gsi.rk</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="741" y="970.25">posts: string // gsi.rk</text><!--MD5=[f00dbe8c0302c6aec2cb26b3c659c8fc]
class Report--><rect fill="#FEFECE" filter="url(#flsdu3l0vodk3)" height="125.7305" id="Report" style="stroke: #A80036; stroke-width: 1.5;" width="165" x="297" y="544.1992"/><ellipse cx="355.75" cy="560.1992" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M358.2231,566.3423 Q357.6421,566.6411 357.0029,566.7905 Q356.3638,566.9399 355.6582,566.9399 Q353.1514,566.9399 351.8315,565.2881 Q350.5117,563.6362 350.5117,560.5151 Q350.5117,557.3857 351.8315,555.7339 Q353.1514,554.082 355.6582,554.082 Q356.3638,554.082 357.0112,554.2314 Q357.6587,554.3809 358.2231,554.6797 L358.2231,557.4023 Q357.5923,556.8213 356.9988,556.5515 Q356.4053,556.2817 355.7744,556.2817 Q354.4297,556.2817 353.7449,557.3484 Q353.0601,558.415 353.0601,560.5151 Q353.0601,562.6069 353.7449,563.6736 Q354.4297,564.7402 355.7744,564.7402 Q356.4053,564.7402 356.9988,564.4705 Q357.5923,564.2007 358.2231,563.6196 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="39" x="376.25" y="564.7344">Report</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="298" x2="461" y1="576.1992" y2="576.1992"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="72" x="303" y="590.834">userId: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="76" x="303" y="603.7891">byUser: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="79" x="303" y="616.7441">content: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="55" x="303" y="629.6992">user: User</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="153" x="303" y="642.6543">data: Post | Comment | Reply</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="108" x="303" y="655.6094">status: EEntityStatus</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="298" x2="461" y1="661.9297" y2="661.9297"/><!--MD5=[8d6f082279bfcc527fd7384e1c213fdb]
class ReportAgg--><rect fill="#FEFECE" filter="url(#flsdu3l0vodk3)" height="112.7754" id="ReportAgg" style="stroke: #A80036; stroke-width: 1.5;" width="121" x="854" y="550.6992"/><ellipse cx="881.6" cy="566.6992" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M884.0731,572.8423 Q883.4921,573.1411 882.8529,573.2905 Q882.2138,573.4399 881.5082,573.4399 Q879.0014,573.4399 877.6815,571.7881 Q876.3617,570.1362 876.3617,567.0151 Q876.3617,563.8857 877.6815,562.2339 Q879.0014,560.582 881.5082,560.582 Q882.2138,560.582 882.8612,560.7314 Q883.5087,560.8809 884.0731,561.1797 L884.0731,563.9023 Q883.4423,563.3213 882.8488,563.0515 Q882.2553,562.7817 881.6244,562.7817 Q880.2797,562.7817 879.5949,563.8484 Q878.9101,564.915 878.9101,567.0151 Q878.9101,569.1069 879.5949,570.1736 Q880.2797,571.2402 881.6244,571.2402 Q882.2553,571.2402 882.8488,570.9705 Q883.4423,570.7007 884.0731,570.1196 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="61" x="898.4" y="571.2344">ReportAgg</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="855" x2="974" y1="582.6992" y2="582.6992"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="58" x="860" y="597.334">agg: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="78" x="860" y="610.2891">reports: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="860" y="623.2441">reported: number</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="108" x="860" y="636.1992">status: EEntityStatus</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="860" y="649.1543">processed?: number</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="855" x2="974" y1="655.4746" y2="655.4746"/><!--MD5=[f58fd777f29c17413488bea9e7cfcca3]
class Member--><rect fill="#FEFECE" filter="url(#flsdu3l0vodk3)" height="112.7754" id="Member" style="stroke: #A80036; stroke-width: 1.5;" width="87" x="717" y="1115.1992"/><ellipse cx="735.15" cy="1131.1992" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M737.6231,1137.3423 Q737.0421,1137.6411 736.4029,1137.7905 Q735.7638,1137.9399 735.0582,1137.9399 Q732.5514,1137.9399 731.2315,1136.2881 Q729.9117,1134.6362 729.9117,1131.5151 Q729.9117,1128.3857 731.2315,1126.7339 Q732.5514,1125.082 735.0582,1125.082 Q735.7638,1125.082 736.4112,1125.2314 Q737.0587,1125.3809 737.6231,1125.6797 L737.6231,1128.4023 Q736.9923,1127.8213 736.3988,1127.5515 Q735.8053,1127.2817 735.1744,1127.2817 Q733.8297,1127.2817 733.1449,1128.3484 Q732.4601,1129.415 732.4601,1131.5151 Q732.4601,1133.6069 733.1449,1134.6736 Q733.8297,1135.7402 735.1744,1135.7402 Q735.8053,1135.7402 736.3988,1135.4705 Q736.9923,1135.2007 737.6231,1134.6196 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="48" x="749.85" y="1135.7344">Member</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="718" x2="803" y1="1147.1992" y2="1147.1992"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="48" x="723" y="1161.834">ip: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="48" x="723" y="1174.7891">id: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="67" x="723" y="1187.7441">name: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="75" x="723" y="1200.6992">photo?: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="61" x="723" y="1213.6543">role?: ERole</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="718" x2="803" y1="1219.9746" y2="1219.9746"/><!--MD5=[09a6b790224a15792433b4970d91c01b]
class NonMember--><rect fill="#FEFECE" filter="url(#flsdu3l0vodk3)" height="86.8652" id="NonMember" style="stroke: #A80036; stroke-width: 1.5;" width="103" x="1082" y="563.6992"/><ellipse cx="1097" cy="579.6992" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1099.4731,585.8423 Q1098.8921,586.1411 1098.2529,586.2905 Q1097.6138,586.4399 1096.9082,586.4399 Q1094.4014,586.4399 1093.0815,584.7881 Q1091.7617,583.1362 1091.7617,580.0151 Q1091.7617,576.8857 1093.0815,575.2339 Q1094.4014,573.582 1096.9082,573.582 Q1097.6138,573.582 1098.2612,573.7314 Q1098.9087,573.8809 1099.4731,574.1797 L1099.4731,576.9023 Q1098.8423,576.3213 1098.2488,576.0515 Q1097.6553,575.7817 1097.0244,575.7817 Q1095.6797,575.7817 1094.9949,576.8484 Q1094.3101,577.915 1094.3101,580.0151 Q1094.3101,582.1069 1094.9949,583.1736 Q1095.6797,584.2402 1097.0244,584.2402 Q1097.6553,584.2402 1098.2488,583.9705 Q1098.8423,583.7007 1099.4731,583.1196 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="71" x="1111" y="584.2344">NonMember</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1083" x2="1184" y1="595.6992" y2="595.6992"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="48" x="1088" y="610.334">ip: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="53" x="1088" y="623.2891">pw: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="67" x="1088" y="636.2441">name: string</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1083" x2="1184" y1="642.5645" y2="642.5645"/><!--MD5=[3fd616f346a44cd59a91eb10b19e157c]
class User--><rect fill="#FEFECE" filter="url(#flsdu3l0vodk3)" height="48" id="User" style="stroke: #A80036; stroke-width: 1.5;" width="58" x="353.5" y="837.6992"/><ellipse cx="368.5" cy="853.6992" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M370.9731,859.8423 Q370.3921,860.1411 369.7529,860.2905 Q369.1138,860.4399 368.4082,860.4399 Q365.9014,860.4399 364.5815,858.7881 Q363.2617,857.1362 363.2617,854.0151 Q363.2617,850.8857 364.5815,849.2339 Q365.9014,847.582 368.4082,847.582 Q369.1138,847.582 369.7612,847.7314 Q370.4087,847.8809 370.9731,848.1797 L370.9731,850.9023 Q370.3423,850.3213 369.7488,850.0515 Q369.1553,849.7817 368.5244,849.7817 Q367.1797,849.7817 366.4949,850.8484 Q365.8101,851.915 365.8101,854.0151 Q365.8101,856.1069 366.4949,857.1736 Q367.1797,858.2402 368.5244,858.2402 Q369.1553,858.2402 369.7488,857.9705 Q370.3423,857.7007 370.9731,857.1196 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="26" x="382.5" y="858.2344">User</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="354.5" x2="410.5" y1="869.6992" y2="869.6992"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="354.5" x2="410.5" y1="877.6992" y2="877.6992"/><!--MD5=[30c847a143eb18c294153f24d519cd63]
class EEntityStatus--><rect fill="#FEFECE" filter="url(#flsdu3l0vodk3)" height="138.6855" id="EEntityStatus" style="stroke: #A80036; stroke-width: 1.5;" width="573" x="7" y="28.1992"/><ellipse cx="253.25" cy="44.1992" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M256.8643,50.6992 L249.1445,50.6992 L249.1445,38.3062 L256.8643,38.3062 L256.8643,40.4644 L251.5933,40.4644 L251.5933,43.1372 L256.3662,43.1372 L256.3662,45.2954 L251.5933,45.2954 L251.5933,48.541 L256.8643,48.541 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="273.75" y="48.7344">EEntityStatus</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="8" x2="579" y1="60.1992" y2="60.1992"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="82" x="13" y="74.834">requestedBlock</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="214" x="98" y="74.834">유저가 신고했을 때 유저 입장에서의 최초 상태</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="92" x="13" y="87.7891">blockedBySystem</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="312" x="108" y="87.7891">현재는 쓰이지 않으나 자동으로 충족된 조건에 의해서 블락되는 경우</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="76" x="13" y="100.7441">deletedByUser</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="88" x="92" y="100.7441">유저가 삭제한 경우</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="13" y="113.6992">deletedByAdmin</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="122" x="102" y="113.6992">관리자에 의해 삭제된 경우</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="89" x="13" y="126.6543">deletedBySystem</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="312" x="105" y="126.6543">현재는 쓰이지 않으나 자동으로 충족된 조건에 의해서 삭제되는 경우</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="47" x="13" y="139.6094">innocent</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="138" x="63" y="139.6094">관리자가 판단하기에 이상없음</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="39" x="13" y="152.5645">inAudit</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="519" x="55" y="152.5645">일정 수 이상 데이터가 쌓이면 AggReport 객체는 이상태가 된다. 현재는 1부터 시작이라 여기서 부터 바로 시작</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="8" x2="579" y1="158.8848" y2="158.8848"/><!--MD5=[6f4090f026f75d17532077464f2b1e2c]
class EIndexName--><rect fill="#FEFECE" filter="url(#flsdu3l0vodk3)" height="125.7305" id="EIndexName" style="stroke: #A80036; stroke-width: 1.5;" width="105" x="615" y="34.6992"/><ellipse cx="630" cy="50.6992" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M633.6143,57.1992 L625.8945,57.1992 L625.8945,44.8062 L633.6143,44.8062 L633.6143,46.9644 L628.3433,46.9644 L628.3433,49.6372 L633.1162,49.6372 L633.1162,51.7954 L628.3433,51.7954 L628.3433,55.041 L633.6143,55.041 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="73" x="644" y="55.2344">EIndexName</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="616" x2="719" y1="66.6992" y2="66.6992"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="30" x="621" y="81.334">posts</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="621" y="94.2891">postsByCategory</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="56" x="621" y="107.2441">comments</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="38" x="621" y="120.1992">byUser</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="40" x="621" y="133.1543">reports</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="60" x="621" y="146.1094">reportsEnd</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="616" x2="719" y1="152.4297" y2="152.4297"/><!--MD5=[30f8cfe7f8b3619cf9d595e931be7699]
class ERole--><rect fill="#FEFECE" filter="url(#flsdu3l0vodk3)" height="99.8203" id="ERole" style="stroke: #A80036; stroke-width: 1.5;" width="77" x="255" y="305.6992"/><ellipse cx="275.85" cy="321.6992" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M279.4643,328.1992 L271.7445,328.1992 L271.7445,315.8062 L279.4643,315.8062 L279.4643,317.9644 L274.1933,317.9644 L274.1933,320.6372 L278.9662,320.6372 L278.9662,322.7954 L274.1933,322.7954 L274.1933,326.041 L279.4643,326.041 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="32" x="291.15" y="326.2344">ERole</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="256" x2="331" y1="337.6992" y2="337.6992"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="33" x="261" y="352.334">admin</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="261" y="365.2891">npc</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="44" x="261" y="378.2441">member</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="65" x="261" y="391.1992">nonmember</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="256" x2="331" y1="397.5195" y2="397.5195"/><!--MD5=[475a23376da226a7031a77a3b75ba719]
class EYiguanaError--><rect fill="#FEFECE" filter="url(#flsdu3l0vodk3)" height="177.5508" id="EYiguanaError" style="stroke: #A80036; stroke-width: 1.5;" width="210" x="367.5" y="266.6992"/><ellipse cx="427.75" cy="282.6992" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M431.3643,289.1992 L423.6445,289.1992 L423.6445,276.8062 L431.3643,276.8062 L431.3643,278.9644 L426.0933,278.9644 L426.0933,281.6372 L430.8662,281.6372 L430.8662,283.7954 L426.0933,283.7954 L426.0933,287.041 L431.3643,287.041 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="81" x="448.25" y="287.2344">EYiguanaError</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="368.5" x2="576.5" y1="298.6992" y2="298.6992"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="102" x="373.5" y="313.334">assert_max_length</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="94" x="373.5" y="326.2891">login_is_required</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="153" x="373.5" y="339.2441">not_member_must_have_pw</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="111" x="373.5" y="352.1992">pw_must_not_empty</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="104" x="373.5" y="365.1543">user_must_have_ip</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="123" x="373.5" y="378.1094">user_must_have_name</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="71" x="373.5" y="391.0645">empty_string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="56" x="373.5" y="404.0195">not_string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="104" x="373.5" y="416.9746">admin_access_only</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="198" x="373.5" y="429.9297">post_comment_reply_are_supported</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="368.5" x2="576.5" y1="436.25" y2="436.25"/><!--MD5=[f4934596b7ed90aa541c10d3d9a1dc48]
reverse link Document to YiguanaDocument--><path d="M800.5,154.9892 C800.5,176.6492 800.5,202.3392 800.5,227.9692 " fill="none" id="Document&lt;-YiguanaDocument" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="793.5,154.8392,800.5,134.8392,807.5,154.8392,793.5,154.8392" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[d721a6861a57853004a200f348aeb7cb]
reverse link YiguanaDocument to Comment--><path d="M759.44,502.4292 C742,556.3792 719.63,617.2592 693.5,670.1992 C675.03,707.6292 650.35,746.3992 627.65,779.1192 " fill="none" id="YiguanaDocument&lt;-Comment" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="752.79,500.2192,765.52,483.2692,766.14,504.4492,752.79,500.2192" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[fab43e13a73c612e21180ce88381287e]
reverse link Comment to Reply--><path d="M497.22,961.3192 C482.34,985.3892 467.73,1011.5992 456.5,1037.1992 C442.4,1069.3392 429.97,1107.3992 421.77,1134.6392 " fill="none" id="Comment&lt;-Reply" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="491.44,957.3592,508.06,944.2092,503.27,964.8492,491.44,957.3592" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[fab43e13a73c612e21180ce88381287e]
reverse link Comment to Reply--><path d="M526.76,956.1992 C508.86,996.4492 486.76,1043.7092 464.5,1085.1992 C455.58,1101.8192 444.76,1119.6392 435.22,1134.6792 " fill="none" id="Comment&lt;-Reply-1" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="532.06,944.2192,525.9748,948.0884,527.2059,955.1936,533.2911,951.3245,532.06,944.2192" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#000000" points="520.5,1048.1992,523.5,1042.1992,526.5,1048.1992,520.5,1048.1992" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="71" x="489.5" y="1063.7676">commentId</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="16" x="512.1476" y="965.0865">hk</text><!--MD5=[864afae9c5d1df2fc60ca3082b355862]
reverse link YiguanaDocument to Like--><path d="M719.72,450.8792 C688.7,487.0492 654.55,526.8592 628.59,557.1292 " fill="none" id="YiguanaDocument&lt;-Like" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="714.45,446.2692,732.79,435.6392,725.08,455.3792,714.45,446.2692" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[ca517b7a0d15d68744df5b0129863c7f]
reverse link YiguanaDocument to Post--><path d="M800.5,503.6192 C800.5,581.2292 800.5,675.0392 800.5,747.0292 " fill="none" id="YiguanaDocument&lt;-Post" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="793.5,503.2292,800.5,483.2292,807.5,503.2292,793.5,503.2292" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[f3263fe0cdcb80bd2e9796f0aa2bc3ee]
reverse link YiguanaDocument to Report--><path d="M715.96,410.2692 C678.99,433.2692 634.92,460.0992 594.5,483.1992 C544.27,511.9092 529.67,515.3792 479.5,544.1992 C473.83,547.4592 468.02,550.8692 462.18,554.3392 " fill="none" id="YiguanaDocument&lt;-Report" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="712.27,404.3192,732.95,399.6692,719.69,416.1992,712.27,404.3192" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[cbb766fbb543dcfdc5c46cf5f5232043]
reverse link YiguanaDocument to ReportAgg--><path d="M866.66,501.4892 C874.58,518.8292 882.26,535.6492 889.07,550.5392 " fill="none" id="YiguanaDocument&lt;-ReportAgg" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="860.28,504.3792,858.33,483.2792,873.01,498.5592,860.28,504.3792" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[1f0cbd35cd8b5cbdfd260684bab77497]
reverse link YiguanaDocument to Member--><path d="M885.28,404.2592 C950.13,447.5692 1028.5,518.1292 1028.5,606.1992 C1028.5,606.1992 1028.5,606.1992 1028.5,1046.6992 C1028.5,1144.3592 880.1,1165.3392 804.16,1169.6792 " fill="none" id="YiguanaDocument&lt;-Member" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="881.31,410.0192,868.29,393.3092,888.89,398.2592,881.31,410.0192" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[3cdbd87d076872c03af0eb6b60841020]
reverse link YiguanaDocument to NonMember--><path d="M885.63,400.2592 C937.22,428.7492 1002.82,468.8292 1054.5,513.1992 C1071.7,527.9692 1088.32,546.6292 1101.85,563.3692 " fill="none" id="YiguanaDocument&lt;-NonMember" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="882.24,406.3892,868.01,390.6792,888.92,394.0892,882.24,406.3892" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[85fd7e60fd045fc82139627ee52eda74]
reverse link Post to Member--><path d="M802.83,989.3992 C801.81,1011.1092 799.87,1033.3692 796.5,1054.1992 C793.22,1074.4692 787.26,1096.1092 781.12,1115.1592 " fill="none" id="Post&lt;-Member" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="803.34,976.3292,799.1057,982.1662,802.8651,988.3198,807.0994,982.4828,803.34,976.3292" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#000000" points="802,1048.1992,805,1042.1992,808,1048.1992,802,1048.1992" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="800.5" y="1063.7676">id</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="804.841" y="997.1012">userId</text><!--MD5=[85fd7e60fd045fc82139627ee52eda74]
reverse link Post to Member--><path d="M767.97,989.3592 C764.89,1005.3692 762.26,1021.5992 760.5,1037.1992 C757.62,1062.6492 757.23,1090.9992 757.71,1115.0092 " fill="none" id="Post&lt;-Member-1" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="770.52,976.5792,765.4177,981.6749,768.159,988.3447,773.2613,983.2489,770.52,976.5792" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#000000" points="763.5,1048.1992,766.5,1042.1992,769.5,1048.1992,763.5,1048.1992" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="13" x="761.5" y="1063.7676">rk</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="724.2221" y="996.9856">byUser</text><!--MD5=[9e1fd0b72eb521c1b2b87c2ea1158f2e]
reverse link Comment to Member--><path d="M613.36,955.8592 C644.92,1008.6692 685.98,1072.8492 716.89,1117.2392 " fill="none" id="Comment&lt;-Member" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="606.57,944.4292,606.1985,951.6307,612.7032,954.7435,613.0747,947.542,606.57,944.4292" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="27" x="581.9364" y="965.0339">user</text><!--MD5=[9e1fd0b72eb521c1b2b87c2ea1158f2e]
reverse link Comment to Member--><path d="M637.35,955.3392 C671.88,1007.3292 711.04,1070.4592 736.03,1114.8892 " fill="none" id="Comment&lt;-Member-1" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="630.06,944.4292,630.0688,951.6403,636.7286,954.4057,636.7198,947.1946,630.06,944.4292" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="637.6357" y="965.0339">byUser</text><!--MD5=[866256def78be2edd5fba82134727b13]
reverse link Report to User--><path d="M380.39,683.3492 C381.02,736.0492 381.81,803.0392 382.23,837.6592 " fill="none" id="Report&lt;-User" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="380.24,670.2892,376.3128,676.3371,380.385,682.2883,384.3122,676.2404,380.24,670.2892" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#000000" points="413.5,711.1992,416.5,705.1992,419.5,711.1992,413.5,711.1992" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="71" x="382.5" y="726.7676">commentId</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="27" x="381.7975" y="690.6101">user</text><!--MD5=[96ac73be3de9b071b754e006db5b5ed8]
reverse link Report to Post--><path d="M473.85,667.4492 C475.74,668.3892 477.62,669.3092 479.5,670.1992 C574.61,715.3292 616.46,687.9892 703.5,747.1992 C709.39,751.2092 715.14,755.6692 720.7,760.4292 " fill="none" id="Report&lt;-Post" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="462.2,661.3992,465.685,667.7123,472.8529,666.9234,469.3678,660.6104,462.2,661.3992" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="27" x="469.9791" y="662.9384">data</text><!--MD5=[699b6293a49d7af4ef65bfec71ae215b]
reverse link Report to Comment--><path d="M458.25,679.8592 C464.33,686.5192 470.17,693.3492 475.5,700.1992 C494.29,724.3392 511.72,752.8092 526.19,779.0092 " fill="none" id="Report&lt;-Comment" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="449.19,670.2392,450.3837,677.3508,457.4074,678.9842,456.2137,671.8726,449.19,670.2392" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="27" x="428.3358" y="690.5546">data</text><!--MD5=[350f559987601a16e42376abf9a8b6f6]
reverse link Report to Reply--><path d="M351.2,683.0292 C344.72,703.5292 338.78,725.9692 335.5,747.1992 C319.96,847.7792 316.65,876.1792 335.5,976.1992 C346.38,1033.9192 373.92,1096.4692 392.68,1134.6292 " fill="none" id="Report&lt;-Reply" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="355.29,670.5392,349.6226,674.998,351.5586,681.9443,357.226,677.4856,355.29,670.5392" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="27" x="324.4012" y="690.4429">data</text><!--MD5=[95c16e16c6b8d7dc5e30f2f30021d47a]
link EEntityStatus to EIndexName--><!--MD5=[d42a5bb6e540ba41dd13f3d61ecf31a9]
link EEntityStatus to ERole--><!--MD5=[41c82c9fb004f7771c45a91d08faf429]
link ERole to EYiguanaError--><!--MD5=[fd5e5b5d3f973c06b39417b775185b9c]
@startuml class-diagram

title 클래스 다이어그램

abstract class Document {
    +hk: string
    -rk: string
}
class YiguanaDocument extends Document {
    +hk: string
    -rk: string
    - - attributes - -
    postId?: string
    userId: string
    category: string
    byUser: string
    comments: string
    posts: string
    agg: string
    reports: string
    reportsEnd: string
    - - common - -
    createdAt: string
    updatedAt?: string
    status?: EEntityStatus
}
class Comment extends YiguanaDocument {
    content: string
    postId: string
    user: User
    likes: number
    === gsi ==
    comments: string // gsi.rk
    userId?: string // gsi.user.hk
    byUser?: string //gsi.user.rk
    commentId?: string // reply 에서만 정의된다.
}
class Reply extends Comment {
    ~commentId: string
    refUserName?: string
}
class Like extends YiguanaDocument {
    userId: string
    byUser: string
    user: User
    ~data: Post | Comment | Reply
}
class Post extends YiguanaDocument {
    rk: EEntity.Post
    - -
    views: number
    likes: number
    children: number
    title: string
    contentUrl: string
    ~user: User
    cover?: string
    updatedAt?: string
    content?: string
    userId?: string // gsi.hk
    byUser?: string // gsi.rk
    category: string // gsi.rk
    posts: string // gsi.rk
}
class Report extends YiguanaDocument {
    userId: string
    byUser: string
    content: string
    user: User
    data: Post | Comment | Reply
    status: EEntityStatus
}
class ReportAgg extends YiguanaDocument {
    agg: string
    reports: string
    reported: number
    status: EEntityStatus
    processed?: number
}
class Member extends YiguanaDocument {
    ip: string
    id: string
    name: string
    photo?: string
    role?: ERole
}
class NonMember extends YiguanaDocument {
    ip: string
    pw: string
    name: string
}


Post "userId" *... Member : < id
Post "byUser" *... Member : < rk

Comment "user" *- - - Member
Comment "byUser" *- - - Member
Comment "hk" *... Reply : < commentId

Report "user" *- - User : < commentId
Report "data" *.. Post
Report "data" *.. Comment
Report "data" *.. Reply

enum EEntityStatus {
    requestedBlock **유저가 신고했을 때 유저 입장에서의 최초 상태**
    blockedBySystem **현재는 쓰이지 않으나 자동으로 충족된 조건에 의해서 블락되는 경우**
    deletedByUser **유저가 삭제한 경우**
    deletedByAdmin **관리자에 의해 삭제된 경우**
    deletedBySystem **현재는 쓰이지 않으나 자동으로 충족된 조건에 의해서 삭제되는 경우**
    innocent **관리자가 판단하기에 이상없음**
    inAudit **일정 수 이상 데이터가 쌓이면 AggReport 객체는 이상태가 된다. 현재는 1부터 시작이라 여기서 부터 바로 시작**
}
enum EIndexName {
  posts
  postsByCategory
  comments
  byUser
  reports
  reportsEnd
}
enum ERole {
  admin
  npc
  member
  nonmember
}
enum EYiguanaError {
  assert_max_length
  login_is_required
  not_member_must_have_pw
  pw_must_not_empty
  user_must_have_ip
  user_must_have_name
  empty_string
  not_string
  admin_access_only
  post_comment_reply_are_supported
}
@enduml

PlantUML version 1.2020.15(Sun Jun 28 20:39:45 KST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: ko
Country: KR
--></g></svg>